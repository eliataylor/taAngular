(function(e,a,t){var n='/wwwroot/js/';t[e]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,baseclass:' audiojs ',imageLocation:'/wwwroot/images/ourSoundtrack-icons.png',swfLocation:'/wwwroot/swf/audiojs.swf',useFlash:(function(){var e=document.createElement('audio');return!(e.canPlayType&&e.canPlayType('audio/mpeg;').replace(/no/,''))})(),hasFlash:(function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins['Shockwave Flash']){return!0}
else if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes['application/x-shockwave-flash'];return e&&e.enabledPlugin}
else{try{var t=new ActiveXObject('ShockwaveFlash.ShockwaveFlash');return t}catch(a){}};return!1})(),createPlayer:{markup:!1,playPauseClass:'playerControls',scrubberClass:'scrubber',progressClass:'progress',loaderClass:'loaded',timeClass:'timeBox',durationClass:'duration',playedClass:'played',errorMessageClass:'playerErrorMsg',pauseClass:'isPaused',playingClass:'isPlaying',loadingClass:'isLoading',errorClass:'isError'},css:'',trackEnded:function(e){this.duration=0},flashError:function(){var e=this.settings.createPlayer,a=s(e.errorMessageClass,this.wrapper),t='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';if(this.mp3)t+=' <a href="'+this.mp3+'">Download audio file</a>.';this.wrapper.className=this.settings.baseclass+e.errorClass;a.innerHTML=t},loadError:function(e){var t=this.settings.createPlayer,a=s(t.errorMessageClass,this.wrapper),i=s(t.progressClass,this.wrapper),n=s(t.loaderClass,this.wrapper);this.wrapper.className=this.settings.baseclass+t.errorClass;a.style.display='inline';a.innerHTML='Error loading the audio file';n.style.width=0;i.style.width=0;this.duration=0},init:function(){},loadStarted:function(){var a=this.settings.createPlayer,i=s(a.durationClass,this.wrapper),e=Math.floor(this.duration/60),t=Math.floor(this.duration%60);i.innerHTML=((e<10?'0':'')+e+':'+(t<10?'0':'')+t)},loadProgress:function(e){var t=this.settings.createPlayer,a=s(t.scrubberClass,this.wrapper),i=s(t.loaderClass,this.wrapper);i.style.width=(a.offsetWidth*e)+'px'},playPause:function(){if(this.playing)this.settings.play();else this.settings.pause()},play:function(){var e=this.settings.createPlayer;this.wrapper.className=this.settings.baseclass+e.playingClass;var t=s(e.errorMessageClass,this.wrapper);t.innerHTML='';if(typeof MusicControls!='undefined'){MusicControls.create({track:'Time is Running Out',artist:'Muse',cover:'albums/absolution.jpg',isPlaying:!0,dismissable:!0,hasPrev:!1,hasNext:!1,hasClose:!0,ticker:'Now playing "Time is Running Out"'},function(e){tautils.tracer(e,'INFO: onsuccess MusicControls')},function(e){tautils.tracer(e,'INFO: onerror MusicControls')})}},pause:function(){var e=this.settings.createPlayer;this.wrapper.className=this.settings.baseclass+e.pauseClass},updatePlayhead:function(e){if(!e)e=0;else if(typeof e=='object'&&typeof e[0]=='number')e=e[0];var t=this.settings.createPlayer,l=s(t.scrubberClass,this.wrapper),o=s(t.progressClass,this.wrapper);o.style.width=(l.offsetWidth*e)+'px';var r=s(t.playedClass,this.wrapper),a=this.duration*e,i=Math.floor(a/60),n=Math.floor(a%60);r.innerHTML=((i<10?'0':'')+i+':'+(n<10?'0':'')+n)}},initMainPlayer:function(){$('#playerSlide .scrubber:first').css({width:$('#playerSlide').width()-96});$('#pSlideBtn').click(function(){var e=-2000;if($(this).hasClass('ejectBtnDown')){e=$('#playerSlide').height();var a=$(window).height(),t=$('#pDetails').find('.player_caption:first').height();if(t>a-e-10){t=a-e-10;$('#pDetails').find('.player_caption:first').height(t)}};$('#pDetails').animate({top:e},{duration:500,queue:!1});$(this).toggleClass('ejectBtnDown').toggleClass('ejectBtn')});this.create(document.getElementById('audioEl'),{trackEnded:function(){tamer.getNextCTrack(1)}});setTimeout(function(){t[e].pickNextSong()},1000)},pickNextSong:function(){var r=this.instances['audiojs'+(this.instanceCount-1)];if(r.playing==!0){tautils.tracer('INFO: ','a song is already playing');return!1};var i=['','/','/dashboard','/challenges','/series','/playlist','/compilations'],n=document.location.pathname;if(document.location.hash&&document.location.hash.indexOf('#!href=')>-1){n=document.location.hash.substring('#!href='.length)};var s=!1;for(var l in i){if(n.indexOf(i[l])==0){s=!0;break}};if(s==!0){var a=$('#centerWell .playOnClick:first'),t=a.attr('data-src'),e=a.attr('data-tid');if(t&&t!='')r.load(t);if(e&&e!=''){$('#playerSlide').find('.starFill:first').attr('data-tid',e);$('#playerSlide').find('.starHolder:first').attr('data-tid',e);tamer.getTrackJson(e)};if(!e||e==''||!t||t==''){tamer.getGroupTrack()}}
else{tamer.getGroupTrack()}},create:function(e,t){var t=t||{};if(e.length){return this.createAll(t,e)}
else{return this.newInstance(e,t)}},createAll:function(e,t){var s=t||document.body.getElementsByTagName('audio'),i=[];e=e||{};for(var a=0,n=s.length;a<n;a++){i.push(this.newInstance(s[a],e))};return i},newInstance:function(e,i){var n=this.helpers.clone(this.settings),l='audiojs'+this.instanceCount,o='audiojs_wrapper'+this.instanceCount;this.instanceCount++;if(i)this.helpers.merge(n,i);if(e){if(e.getAttribute('autoplay')!=null&&e.getAttribute('autoplay')!=!1)n.autoplay=!0;if(e.getAttribute('loop')!=null)n.loop=!0;if(e.getAttribute('preload')=='none')n.preload=!1}
else{e=s('player_wrapper',document.getElementById('playerSlide'))};if(n.createPlayer.markup)e=this.createPlayer(e,n.createPlayer,o);else e.parentNode.setAttribute('id',o);var r=new t[a](e,n);if(n.useFlash&&n.hasFlash){this.injectFlash(r,l);this.attachFlashEvents(r.wrapper,r)}
else if(n.useFlash&&!n.hasFlash){this.settings.flashError.apply(r)};if(!n.useFlash||(n.useFlash&&n.hasFlash))this.attachEvents(r.wrapper,r);this.instances[l]=r;return r},createPlayer:function(e,t,s){var a=document.createElement('div'),i=e.cloneNode(!0);a.className=this.settings.baseclass+t.loadingClass;a.id=s;if(i.outerHTML&&~i.outerHTML.indexOf('<:audio')){i=this.helpers.cloneHtml5Node(e);a.innerHTML=t.markup;a.appendChild(i);e.outerHTML=a.outerHTML;a=document.getElementById(s)}
else{a.appendChild(i);a.innerHTML=a.innerHTML+t.markup;e.parentNode.replaceChild(a,e)};return a.getElementsByTagName('audio')[0]},attachEvents:function(a,i){var n=i.settings.createPlayer,l=s(n.playPauseClass,a),r=s(n.scrubberClass,a),o=function(e){var t=0;if(e.offsetParent){do{t+=e.offsetLeft}
while(e=e.offsetParent);};return t};i.element.volume=0.5;t[e].events.addListener(document.getElementById('volIcon'),'click',function(e){var a=$(this),s=a.offset().left,n=a.width(),r=a.find('.volClr:first'),t=parseInt(((tautils.mouseBounds.x-s)/n)*100);if(t<10)t=0;if(t>95)t=100;r.attr('style','width:'+t+'%');a.attr('title',t);i.element.volume=t/100;if(i.playing==!0&&t<10){i.pause.apply(i)}
else if(i.playing==!1&&t>=10){i.play.apply(i)}});t[e].events.addListener(document.getElementById('volIcon'),'mousemove',function(e){var a=$(this),s=a.offset().left+3,i=a.width()-7,n=a.find('.volFill:first'),t=parseInt(((tautils.mouseBounds.x-s)/i)*100);if(t<0)t=0;if(t>100)t=100;n.attr('style','width:'+t+'%');a.attr('title',t)});t[e].events.addListener(document.getElementById('volIcon'),'mouseout',function(e){$(this).find('.volFill:first').css({width:0})});t[e].events.addListener(l,'click',function(e){i.playPause.apply(i)});t[e].events.addListener(r,'click',function(e){var t=e.clientX-o(this);i.skipTo(t/r.offsetWidth)});if(i.settings.useFlash)return;t[e].events.trackLoadProgress(i);t[e].events.addListener(i.element,'timeupdate',function(e){i.updatePlayhead.apply(i)});t[e].events.addListener(i.element,'ended',function(e){i.trackEnded.apply(i)});t[e].events.addListener(i.source,'error',function(e){clearInterval(i.readyTimer);clearInterval(i.loadTimer);i.settings.loadError.apply(i)})},attachFlashEvents:function(t,e){e['swfReady']=!1;e['load']=function(t){t=tautils.absUGC(t);e.mp3=t;if(e.swfReady)e.element.load(t)};e['loadProgress']=function(t,a){e.loadedPercent=t;e.duration=a;e.settings.loadStarted.apply(e);e.settings.loadProgress.apply(e,[t])};e['skipTo']=function(t){if(t>e.loadedPercent)return;e.updatePlayhead.call(e,[t]);e.element.skipTo(t)};e['updatePlayhead']=function(t){e.settings.updatePlayhead.apply(e,[t])};e['play']=function(){if(!e.settings.preload){e.settings.preload=!0;e.element.init(e.mp3)};e.playing=!0;e.element.pplay();e.settings.play.apply(e)};e['pause']=function(){e.playing=!1;e.element.ppause();e.settings.pause.apply(e)};e['loadStarted']=function(){e.swfReady=!0;if(e.settings.preload)e.element.init(e.mp3);if(e.settings.autoplay)e.play.apply(e)}},resizePlayer:function(){},injectFlash:function(e,t){var a=this.flashSource.replace(/\$1/g,t);a=a.replace(/\$2/g,e.settings.swfLocation);a=a.replace(/\$3/g,(+new Date+Math.random()));var i=e.wrapper.innerHTML,s=document.createElement('div');s.innerHTML=a+i;e.wrapper.innerHTML=s.innerHTML;e.element=this.helpers.getSwf(t)},helpers:{merge:function(e,t){for(attr in t){if(e.hasOwnProperty(attr)||t.hasOwnProperty(attr)){e[attr]=t[attr]}}},clone:function(e){if(e==null||typeof(e)!=='object')return e;var a=new e.constructor();for(var t in e)a[t]=arguments.callee(e[t]);return a},addClass:function(e,t){var a=new RegExp('(\\s|^)'+t+'(\\s|$)');if(a.test(e.className))return;e.className+=' '+t},removeClass:function(e,t){if(t=='*')e.className='audiojs';else{var a=new RegExp('(\\s|^)'+t+'(\\s|$)');e.className=e.className.replace(a,' ')}},cloneHtml5Node:function(e){var a=document.createDocumentFragment();a.createElement('audio');var t=a.createElement('div');a.appendChild(t);t.innerHTML=e.outerHTML;return t.firstChild},getSwf:function(e){var t=document[e]||window[e];return t.length>1?t[t.length-1]:t}},events:{memoryLeaking:!1,listeners:[],addListener:function(a,s,i){if(a.addEventListener){a.addEventListener(s,i,!1)}
else if(a.attachEvent){this.listeners.push(a);if(!this.memoryLeaking){window.attachEvent('onunload',function(){for(var a=0,s=this.listeners.length;a<s;a++){t[e].events.purge(this.listeners[a])}});this.memoryLeaking=!0};a.attachEvent('on'+s,function(){i.call(a,window.event)})}},trackLoadProgress:function(e){if(!e.settings.preload)return;var t,a,e=e,s=(/(ipod|iphone|ipad)/i).test(navigator.userAgent);t=setInterval(function(){if(e.element.readyState>-1){if(!s)e.init.apply(e)};if(e.element.readyState>1){if(e.settings.autoplay)e.play.apply(e);clearInterval(t);a=setInterval(function(){e.loadProgress.apply(e);if(e.loadedPercent>=1)clearInterval(a)})}},10);e.readyTimer=t;e.loadTimer=a},purge:function(e){var a=e.attributes,t;if(a){for(t=0;t<a.length;t+=1){if(typeof e[a[t].name]==='function')e[a[t].name]=null}};a=e.childNodes;if(a){for(t=0;t<a.length;t+=1)purge(e.childNodes[t])}},ready:(function(e){var t=document;return e?function(e){var s=t.firstChild,a=function(){try{e(s.doScroll('left'))}catch(t){setTimeout(a,10)}};a()}:/webkit|safari|khtml/i.test(navigator.userAgent)?function(e){var a=function(){/loaded|complete/.test(t.readyState)?e():setTimeout(a,10)};a()}:function(e){t.addEventListener('DOMContentLoaded',e,!1)}})(/*@cc_on;1@*/)}};t[a]=function(e,t){if(e==null){e=s('player_wrapper',document.getElementById('playerSlide'))};this.element=e;this.wrapper=e.parentNode;this.source=e.getElementsByTagName('source')[0]||e;this.mp3=(function(e){var t=e.getElementsByTagName('source')[0];return e.getAttribute('src')||(t?t.getAttribute('src'):null)})(e);this.settings=t;this.loadStartedCalled=!1;this.loadedPercent=0;this.duration=1;this.playing=!1};t[a].prototype={updatePlayhead:function(){var e=this.element.currentTime/this.duration;this.settings.updatePlayhead.apply(this,[e])},skipTo:function(e){if(e>this.loadedPercent)return;this.element.currentTime=this.duration*e;this.updatePlayhead()},load:function(a){this.loadStartedCalled=!1;if(tautils.absUGC(a)!=tautils.absUGC(this.source.getAttribute('src'))){this.source.setAttribute('src',tautils.absUGC(a));this.mp3=tautils.absUGC(a);this.element.load();t[e].events.trackLoadProgress(this)}},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){if(!this.element.duration)return!1;this.duration=this.element.duration;this.updatePlayhead();this.settings.loadStarted.apply(this)},loadProgress:function(){if(this.element.buffered!=null&&this.element.buffered.length){if(!this.loadStartedCalled){this.loadStartedCalled=this.loadStarted()};var e=this.element.buffered.end(this.element.buffered.length-1);this.loadedPercent=e/this.duration;this.settings.loadProgress.apply(this,[this.loadedPercent])}},playPause:function(){if(this.playing)this.pause();else this.play()},play:function(){var a=(/(ipod|iphone|ipad)/i).test(navigator.userAgent);if(a&&this.element.readyState==0)this.init.apply(this);if(!this.settings.preload){this.settings.preload=!0;this.element.setAttribute('preload','auto');t[e].events.trackLoadProgress(this)};this.playing=!0;this.element.play();this.settings.play.apply(this)},pause:function(){this.playing=!1;this.element.pause();this.settings.pause.apply(this)},trackEnded:function(e){this.skipTo.apply(this,[0]);if(!this.settings.loop)this.pause.apply(this);this.settings.trackEnded.apply(this)}};var s=function(e,t,a){var s=[];if(document.getElementsByClassName){s=t.getElementsByClassName(e)}
else{var t=t||document,a=a||'*',n=t.getElementsByTagName(a),r=new RegExp('(^|\\s)'+e+'(\\s|$)');for(i=0,j=0,l=n.length;i<l;i++){if(r.test(n[i].className)){s[j]=n[i];j++}}};return s.length>1?s:s[0]}})('audiojs','audiojsInstance',this);if(document.location.href.indexOf('http')!==0){document.addEventListener('deviceready',function(e){audiojs.initMainPlayer()},!0);document.addEventListener('resume',function(e){audiojs.initMainPlayer()},!0)}
else{$(document).ready(function(){audiojs.initMainPlayer()})};